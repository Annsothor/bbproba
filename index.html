<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blood Bowl ProbabilitÃ©</title>
  <link rel="stylesheet" href="cssjs/bbproba.css" />
</head>
<body>
  <div class="header">
    <h1>ğŸˆ BLOOD BOWL PROBABILITÃ‰ ğŸ²</h1>
    <p class="tagline">Calculateur de ProbabilitÃ©s Tactiques</p>
  </div>

  <div class="main-layout">
    <!-- ==================== SECTION ACTIONS ==================== -->
    <div class="container">
      <h2>âš¡ Jets de dÃ©s</h2>
      <div class="btn-grid">
        <button class="btn-dice" onclick="addAction({type:'roll',threshold:2})">2+</button>
        <button class="btn-dice" onclick="addAction({type:'roll',threshold:3})">3+</button>
        <button class="btn-dice" onclick="addAction({type:'roll',threshold:4})">4+</button>
        <button class="btn-dice" onclick="addAction({type:'roll',threshold:5})">5+</button>
        <button class="btn-dice" onclick="addAction({type:'roll',threshold:6})">6+</button>
      </div>

      <h2>ğŸ’¥ Blocages</h2>
      <div class="btn-grid">
        <button class="btn-block" onclick="chooseBlock('3d-contre')">3D contre</button>
        <button class="btn-block" onclick="chooseBlock('2d-contre')">2D contre</button>
        <button class="btn-block" onclick="chooseBlock('1d')">1D</button>
        <button class="btn-block" onclick="chooseBlock('2d')">2D</button>
        <button class="btn-block" onclick="chooseBlock('3d')">3D</button>
      </div>

      <div id="blockOptions" class="block-options hidden">
        <p><strong>RÃ©sultats considÃ©rÃ©s comme rÃ©ussis :</strong></p>
        <div class="block-checkboxes">
          <label><input type="checkbox" value="pow" checked> âš¡ POW</label>
          <label><input type="checkbox" value="powpush"> ğŸ”„ POW/PUSH</label>
          <label><input type="checkbox" value="push"> â¬†ï¸ PUSH</label>
          <label><input type="checkbox" value="bothdown"> â¬‡ï¸ BOTH DOWN</label>
          <label><input type="checkbox" value="skull"> ğŸ’€ SKULL</label>
        </div>
        <button class="btn-confirm" onclick="confirmBlockChoice()">âœ“ Valider</button>
      </div>

      <h2>âš™ï¸ CompÃ©tences</h2>
      <div class="skills-grid">
        <label><input type="checkbox" id="skill-dodge"> Esquive</label>
        <label><input type="checkbox" id="skill-surefeet"> Ã‰quilibre</label>
        <label><input type="checkbox" id="skill-surehands"> Prise sÃ»re</label>
        <label><input type="checkbox" id="skill-pass"> Passe</label>
        <label><input type="checkbox" id="skill-catch"> RÃ©ception</label>
      </div>

      <h2>ğŸ” Relances d'Ã©quipe</h2>
      <div class="reroll-control">
        <button class="btn-reroll" onclick="changeRerolls(-1)">âˆ’</button>
        <span id="rerollCount" class="reroll-number">0</span>
        <button class="btn-reroll" onclick="changeRerolls(1)">+</button>
      </div>

      <div class="result" id="result">ProbabilitÃ© : 100.00%</div>
      <div class="actions-list" id="actions"></div>
      <button class="btn-reset" onclick="resetAll()">ğŸ”„ Reset</button>
    </div>

    <!-- ==================== SECTION ARMURE / BLESSURE ==================== -->
    <div class="container">
      <h2>ğŸ›¡ï¸ Jet d'Armure</h2>

      <label>Armure du joueur :
        <select id="armorValue">
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option selected>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
        </select>
      </label>

      <label>Bonus d'agression :
        <select id="foulBonus">
          <option value="0" selected>+0</option>
          <option value="1">+1</option>
          <option value="2">+2</option>
          <option value="3">+3</option>
          <option value="4">+4</option>
          <option value="5">+5</option>
          <option value="6">+6</option>
          <option value="7">+7</option>
        </select>
      </label>

      <label>ChÃ¢taigne (armure) :
        <select id="mbArmor">
          <option value="0" selected>Aucune</option>
          <option value="1">+1</option>
          <option value="2">+2</option>
        </select>
      </label>

      <label><input type="checkbox" id="claw"> Griffe </label>
      <label><input type="checkbox" id="armorReroll"> Relance d'armure</label>

      <div class="result armor-result" id="armorResult">Chance de passer l'armure : 0.00%</div>

      <hr>

      <h2>â˜ ï¸ Jet de Blessure</h2>
      
      <label>ChÃ¢taigne (blessure) :
        <select id="mbInjury">
          <option value="0" selected>Aucune</option>
          <option value="1">+1</option>
          <option value="2">+2</option>
        </select>
      </label>

      <label><input type="checkbox" id="thickSkull"> CrÃ¢ne Ã©pais</label>
      <label><input type="checkbox" id="stunty"> Minus (+1 blessure)</label>

      <label>Bonus blessure :
        <select id="injuryBonus">
          <option value="0" selected>+0</option>
          <option value="1">+1</option>
          <option value="2">+2</option>
          <option value="3">+3</option>
        </select>
      </label>

      <button class="btn-calculate" onclick="calculateArmorAndInjury()">ğŸ“Š Calculer</button>

      <div class="result injury-result" id="injuryResults">
        <span class="injury-ko">KO : 0.00%</span> â€¢ <span class="injury-cas">Blessure : 0.00%</span>
      </div>
    </div>
  </div>

  <script src="cssjs/bbproba.js"></script>
</body>
</html>